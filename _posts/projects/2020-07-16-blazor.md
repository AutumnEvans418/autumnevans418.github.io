---
layout: post
title: Blazor WebAssembly + Jekyll
description: How to use Blazor WebAssembly with Jekyll
category: project
tags: [blazor, webassembly, github pages]
logo: /assets/images/blazor.png
---

Most of my projects that I have done have been in .NET, and it'd be great to bring them to the web.  Blazor WebAssembly can do just that.  However, this can be tricky when using Jekyll.  In this tutorial, I will show how you can add a Blazor app to your jekyll website.

[See my blazor apps here](/tags/#blazor)


### Adding Blazor to your site

In this example, I'll be embedding my Blazor app [Xaml Templates]({% post_url /projects/2020-01-05-xt %}) into one of my blogs.

To do this, take the publish output of your blazor app and put it in `blazor/PROJECT_NAME`

You will require
- _framework\
- js\
- integrity.js
- index.html

### Including the _framework folder in Jekyll

By default jekyll excludes folders that start with an underscore.
To fix this, add this to your `_config.yml` file
```yml
#has to be done this way due to a bug: https://github.com/jekyll/jekyll/issues/1352
include:
  - "_framework"
  - "_bin"
```

Next, remove the unicode X from the `index.html` in your blazor directory.  Jekyll doesn't like that for some reason.

Try running your site.  The folders should now be included when you build your Jekyll site.

You should be able to navigate to `/blazor/PROJECT_NAME` and see your blazor app.

#### Note
If your blazor app uses navigation, you may need to set the base uri to be where your app is located ei `/blazor/PROJECT_NAME`

### Embedding Blazor in a Blog Post

Here is an example index.html file:
All that is needed is the _framework folder.  Bootstrap is already used on the site and is inherited.  The baseurl is not needed in my case because there is no navigation.

```html
---
layout: default
title: Xaml Templates
---

<link rel="stylesheet" href="highlight/styles/default.css">
<script src="highlight/highlight.pack.js"></script>
<script src="js/index.js"></script>
<app>Loading...</app>

<script src="_framework/blazor.webassembly.js"></script>
```

https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/blazor/?view=aspnetcore-3.1&tabs=visual-studio#app-base-paths

The index file has to exist with the files needed.  However, you can create a blog post with a permalink that will publish it to the desired location:

```html
---
title: Xaml Templates
date: 2020-05-01
layout: post
permalink: /blazor/xt/
---
<script src="js/index.js"></script>
<app>Loading...</app>
Built with <3 using Blazor
<script src="_framework/blazor.webassembly.js"></script>
```

This will show as a blog, but due to the `permalink` tag, it will navigate to our blazor app location

#### Note
If you are using github pages, you may need to add this
Add a `.gitattributes` with `* binary` in it
https://github.com/dotnet/aspnetcore/issues/19796

