!function(t){function e(e){for(var i,s,o=e[0],l=e[1],u=e[2],h=0,d=[];h<o.length;h++)s=o[h],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(c&&c(e);d.length;)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={0:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;r.push([666,1]),n()}({148:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CombineUnits=e.UnitState=void 0;var r=n(311),s=n(44),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.update=function(){var t=this.Scene;this.Scene.physics.overlap(this.Unit.unitImg,t.units.map((function(t){return t.unitImg})),this.collission,null,this)},e.prototype.removing=function(t){},e.prototype.collission=function(t,e){var n=t.parentContainer,i=e.parentContainer,a=this.Scene;if(n.team.teamId!=i.team.teamId){var r=n.value;n.value-=i.value,i.value-=r,n.value<=0&&(a.destroyUnit(n),a.particleEngine.explosion(n.x,n.y,10,.05,500,n.team.tint),s.soundSystem.playHit()),i.value<=0&&(a.destroyUnit(i),a.particleEngine.explosion(i.x,i.y,10,.05,500,i.team.tint),s.soundSystem.playHit())}else a.fps<=55&&l(n,i,a)},e}(r.State);function l(t,e,n){"SpawnState"!=t.unitState.name&&e.unitState.name}e.UnitState=o,e.CombineUnits=l},149:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assets=void 0,e.assets={login:"login",debug:"debug",settings:"settings",sidebar:"sidebar",gameOver:"gameover",mainMenu:"mainMenu",leaderboard:"leaderboard"}},156:function(t,e,n){"use strict";function i(t){Vue.$toast.info(t)}function a(t){Vue.$toast.error(t)}n.r(e),n.d(e,"toastInfo",(function(){return i})),n.d(e,"toastError",(function(){return a})),Vue.use(VueToast,{position:"top"})},1567:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Level1=void 0;var r=n(86),s=n(72),o=n(30),l=function(t){function e(){var e=t.call(this,"level1")||this;return e.title="Level 1",e.description="Let's keep it simple",e}return a(e,t),e.prototype.create=function(){var e=this.scale.width/2,n=this.scale.height/2;this.circle1=new Phaser.Geom.Circle(e,n,n/2),t.prototype.create.call(this)},e.prototype.createBases=function(){var t=this;this.bases=[];[[1,1],[2,-1],[3,-1],[4,-1],[5,2],[6,-1],[7,-1],[8,-1]].forEach((function(e){var n=e[1],i=new r.Base(e[0],t,o.teams.find((function(t){return t.teamId==n})).BaseImgKey,n,3);n<0&&(i.baseState=new s.NeutralState(i,t)),t.bases.push(i)})),this.placeOnCircle()},e.prototype.placeOnCircle=function(){var t=this.scale.width/2,e=this.scale.height/2;this.circle1.x=t,this.circle1.y=e,this.circle1.radius=e/1.3,this.bases=Phaser.Actions.PlaceOnCircle(this.bases,this.circle1)},e}(n(87).LevelBase);e.Level1=l,e.default=l},1568:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Unit=void 0;var r=n(616),s=0,o=function(t){function e(e,n,i,a){var o=t.call(this,e.scene.scene,n.x,n.y,[])||this;return o.team=i,o.currentBase=n,o.unitImg=e.physics.add.image(0,0,a).setOrigin(.5,.5),o.scale=.08,o.maxScale=.16,o._unitState=new r.SpawnState(o,e),o.value=1,o.tint=o.team.tint,o.unitId=s,s++,o.add(o.unitImg),e.sys.displayList.add(o),o}return a(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.unitImg?this.unitImg.tintTopLeft:0},set:function(t){this.unitImg&&(this.unitImg.tint=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unitState",{get:function(){return this._unitState},set:function(t){this._unitState.removing(t),this._unitState=t},enumerable:!1,configurable:!0}),e}(Phaser.GameObjects.Container);e.Unit=o},1569:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LevelSystem=void 0;var i=n(618),a=n(619),r=n(44),s=function(){function t(t,e,n,i,r){this.rings=[],this.scale=t,this.reset(),this.maxLevel=r,this.progressBar=new a.ProgressBar(e,n,i),this.progressBar.alpha=.5,this.progressBar.draw()}return t.prototype.reset=function(){this.level=1,this.nextLevel=20,this.experience=0,this.nextRatio=1.5,this.scale.reset()},t.prototype.upgrade=function(t){if(this.level==this.maxLevel)return{valueUsed:0,shouldDestroy:!1};var e={health:this.experience,maxHealth:this.nextLevel},n=i.addHealth(t,e);this.experience=e.health;var a=this.experience/this.nextLevel;if(r.soundSystem.playUpgrading(a),this.experience>=this.nextLevel){this.level++;var s=this.level/this.maxLevel;r.soundSystem.playUpgraded(s),this.scale.levelScale*=this.scale.levelScaleRatio,this.level!=this.maxLevel&&(this.experience=0,this.nextLevel*=this.nextRatio)}return this.progressBar.value=this.experience,this.progressBar.maxValue=this.nextLevel,this.progressBar.draw(),n},t}();e.LevelSystem=s},1570:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HealthBar=void 0;var i=n(618),a=n(619),r=n(44),s=function(){function t(t,e,n){this.progressBar=new a.ProgressBar(t,e,n),this.progressBar.alpha=.5,this.progressBar.draw()}return Object.defineProperty(t.prototype,"health",{get:function(){return this._health},set:function(t){this._health=t,this.draw()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxHealth",{get:function(){return this._maxHealth},set:function(t){this._maxHealth=t,this.draw()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFullHealth",{get:function(){return this.health>=this.maxHealth},enumerable:!1,configurable:!0}),t.prototype.addHealth=function(t){var e=i.addHealth(t,this);this.draw();var n=this.health/this.maxHealth;return n>=1?r.soundSystem.playHealed():r.soundSystem.playHealing(n),e},t.prototype.setHealth=function(t){this.health=t,this.draw()},t.prototype.draw=function(){this._health<=0&&(this._health=0),this.progressBar.maxValue=this._maxHealth,this.progressBar.value=this._health,this.progressBar.draw()},t}();e.HealthBar=s},1571:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParticleEngine=void 0;var i=function(){function t(t){this.scene=t}return t.prototype.explosion=function(t,e,n,i,a,r){for(var s=function(n){var s=o.scene.physics.add.sprite(0,0,"particle").setOrigin(.5,.5).setScale(i).setTint(r);s.setBlendMode(Phaser.BlendModes.ADD),s.x=t+64,s.y=e+64,s.setVelocity(Phaser.Math.FloatBetween(-30,30),Phaser.Math.FloatBetween(-30,30)),s.setDepth(2),o.scene.tweens.add({targets:s,scale:0,duration:a,ease:"Sine.easeInOut",onComplete:function(t,e,n){s.destroy()}})},o=this,l=0;l<n;l++)s()},t}();e.ParticleEngine=i},1572:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserAction=void 0;var i=function(){function t(t,e){this.units=[],this.user=e,this.scene=t,this.offsetY=-30,""===e.name&&(e.name="noname"),this.avatar=t.add.image(0,0,e.imgUrl).setScale(.25).setAlpha(.5).setDepth(3),this.text=t.add.text(0,0,"",{fontSize:"20px",color:"white",fontFamily:"ethno"})}return t.prototype.update=function(){var t=this;if(this.units.length<=0)return this.text.destroy(),this.avatar.destroy(),void(this.scene.actions=this.scene.actions.filter((function(e){return e!==t})));var e=this.units.map((function(t){return new Phaser.Math.Vector2(t.x,t.y)})).reduce((function(t,e){return new Phaser.Math.Vector2(t.x+e.x,t.y+e.y)})),n=new Phaser.Math.Vector2(e.x/this.units.length,e.y/this.units.length);this.text.x=n.x,this.text.y=n.y,this.avatar.x=n.x,this.avatar.y=n.y+this.offsetY},t}();e.UserAction=i},1573:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ResumeState=void 0;var r=function(t){function e(e){var n=t.call(this,e,e,"ResumeState")||this;return e.time.paused=!1,n}return a(e,t),e}(n(623).GameState);e.ResumeState=r},1574:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GameOverState=void 0;var r=n(1575),s=n(624),o=n(30),l=function(t){function e(e,n){var i=t.call(this,e)||this;if(console.log("game over!"),o.TeamInteraction.players.length<=0)e.time.paused=!1,e.time.addEvent({delay:1e3,callback:function(){return e.reset()},callbackScope:i});else new r.GameOverView(e.scene.scene,n);return i}return a(e,t),e}(s.PauseState);e.GameOverState=l},1575:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameOverView=void 0;var i=n(44),a=n(149),r=function(t,e){var n=this;this.view=t.add.dom(t.scale.width/2,t.scale.height/2).setOrigin(.5,.5).createFromCache(a.assets.gameOver),this.view.getChildByID("title").textContent="team "+e+" won!",this.view.getChildByID("reset").onclick=function(t){n.view.destroy(),n.view.removeElement(),i.reset()}};e.GameOverView=r},1576:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SettingsView=void 0;var i=n(44),a=n(624),r=n(622),s=function(){function t(t){var e=this;this.isSettings=!0,this.helpOpen=!1,this.lvl=t;var n=t.scene.scene;this.view=n.add.dom(n.scale.width,0).setOrigin(1,0).createFromCache("settings");var a=this.view.getChildByID("settings"),r=this.view.getChildByID("isSettings"),s=this.view.getChildByID("saveSettings");this.view.getChildByID("restart").onclick=function(){t.reset(),e.isSettings=!e.isSettings,r.hidden=e.isSettings,e.updatestate()};var o=this.view.getChildByID("help"),l=this.view.getChildByID("isHelp");o.onclick=function(t){e.helpOpen=!e.helpOpen,l.hidden=!e.helpOpen},l.hidden=!this.helpOpen;var u=this.view.getChildByID("master"),c=this.view.getChildByID("music"),h=this.view.getChildByID("effects"),d=this.view.getChildByID("speed");r.hidden=this.isSettings,this.view.getChildByID("exit").onclick=function(t){n.scene.start("LevelSelect")},s.onclick=function(n){t.speed=Number(d.value),i.updateVolume(Number(c.value),Number(h.value),Number(u.value)),e.isSettings=!e.isSettings,r.hidden=e.isSettings,e.updatestate()},this.updatestate(),a.onclick=function(n){e.isSettings=!e.isSettings,r.hidden=e.isSettings;var a=i.getVolumes();h.value=a.effects.toString(),c.value=a.music.toString(),u.value=a.master.toString(),d.value=t.speed.toString(),e.updatestate()}}return t.prototype.updatestate=function(){var t=this.lvl;this.isSettings?t.gameState=new r.GamePlayingState(t):t.gameState=new a.PauseState(t)},t}();e.SettingsView=s},1577:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sidebar=void 0;var i=n(30),a=n(149);var r=function(){function t(t){this.view=t.add.dom(0,0).setOrigin(0,0).createFromCache(a.assets.sidebar),i.TeamInteraction.renderer=this,this.render()}return t.prototype.render=function(){var t=this.view.getChildByID("players");t.innerHTML="",i.TeamInteraction.players.forEach((function(e){t.innerHTML+=function(t){var e,n="";return t.avatarUrl&&(n='<img class="avatar" src="'+t.avatarUrl+'">'),'\n    <li>\n        <div class="row">\n            <div class="col-auto">\n                '+n+'\n            </div>\n            <div class="col">\n                <p><span style="color: '+(null===(e=t.style)||void 0===e?void 0:e.color)+'">'+t.name+"</span> team "+t.team.teamId+"</p>\n            </div>\n        </div>\n    </li>\n    "}(e)}));var e=this.view.getChildByID("chat");e.innerHTML="",i.TeamInteraction.chat.forEach((function(t){var n,i,a;e.innerHTML+='\n    <li>\n        <p class="message"><span style="color: '+(null===(a=null===(i=(n=t).player)||void 0===i?void 0:i.style)||void 0===a?void 0:a.color)+'">'+n.name+":</span> "+n.message+"</p>\n    </li>\n    "}))},t}();e.Sidebar=r},1578:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Population=e.bestWeights=void 0;var i=n(30),a=n(199),r=n(1579),s=n(625);e.bestWeights={allies:-.3,distance:-.3,enemies:-.02,heal:.15,level:.25,neutral:.8,enemyTeam:.4,upgrade:.85,random:.05,allyUnits:.1,attackUnits:-.4};var o=function(){function t(t){var n=this;this.networks=[],t.filter((function(t){return t.teamId>0})).forEach((function(t){var i=new r.TeamNeatNetwork(t);i.weights=e.bestWeights,n.networks.push(i)}))}return t.prototype.Evaluate=function(t,e){this.networks.map((function(n){return n.Evaluate(t,e)})).reduce((function(t,e){var n=t.slice();return n.push.apply(n,e),n})).forEach((function(t){var e=t.attack,n=t.current;e&&(e.baseId==n.baseId?a.botHandler.upgrade(n.baseId,n.team.teamId):a.botHandler.move(n.baseId,e.baseId,100,new i.AIPlayer(n.team.teamId)))})),s.chat(t,Math.random,i.TeamInteraction,a.botHandler)},t}();e.Population=o},1579:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TeamNeatNetwork=void 0;var i=n(30),a=n(625),r=function(){function t(t){this.mutateRatio=.2,this.team=t}return Object.defineProperty(t.prototype,"teamId",{get:function(){return this.team.teamId},enumerable:!1,configurable:!0}),t.prototype.Evaluate=function(t,e){var n=this,r=Math.max.apply(Math,t.map((function(t){return e.filter((function(e){return e.currentBase.baseId==t.baseId})).map((function(t){return t.value})).reduce((function(t,e){return t+e}),0)}))),s=Math.max.apply(Math,t.map((function(t){return t.xp.maxLevel}))),o=this.weights;return t.filter((function(t){return!i.TeamInteraction.players.some((function(e){return e.team.teamId==t.team.teamId}))&&t.team.teamId>0&&t.team.teamId==n.teamId})).map((function(n){var i=t.map((function(i){var o=t.map((function(t){return Phaser.Math.Distance.Between(t.x,t.y,i.x,i.y)})),l=Math.max.apply(Math,o);return a.GetValues({current:n,attack:i,units:e,maxDistance:l,maxLevel:s,maxUnits:r})})).map((function(t){return{score:t.allyBaseUnits*o.allies+t.distance*o.distance+t.enemyBaseUnits*o.enemies+t.healValue*o.heal+t.lvl*o.level+t.neutralValue*o.neutral+t.diffTeamValue*o.enemyTeam+t.upgradeValue*o.upgrade+t.random*o.random+t.allyUnits*o.allyUnits+t.attackingUnits*o.attackUnits,attack:t.attack}})).sort((function(t,e){return t.score-e.score}));return{current:n,attack:i.pop().attack}}))},t}();e.TeamNeatNetwork=r},1580:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandlineView=void 0;var i=n(312),a=n(156),r=function(){function t(t){this.content=t,this.author={username:"Player",avatarURL:function(){return"/assets/images/bot1.png"}}}return t.prototype.reply=function(t){console.log(t),a.toastInfo(t)},t}(),s=function(t){this.view=t.add.dom(t.scene.scene.scale.width,t.scene.scene.scale.height).setOrigin(1,1).createFromCache("commandline");var e=this.view.getChildByID("cmd");e.onkeypress=function(t){if(13==t.keyCode){var n=e.value;e.value="",e.focus(),i.RunCommands(new r(n))}},e.focus()};e.CommandlineView=s},1588:function(t,e){},1607:function(t,e){},1609:function(t,e){},1642:function(t,e){},1645:function(t,e){},1649:function(t,e){},1650:function(t,e){},1651:function(t,e,n){var i={"./CHANNEL_CREATE.js":1652,"./CHANNEL_DELETE.js":1653,"./CHANNEL_PINS_UPDATE.js":1654,"./CHANNEL_UPDATE.js":1655,"./GUILD_BAN_ADD.js":1656,"./GUILD_BAN_REMOVE.js":1657,"./GUILD_CREATE.js":1658,"./GUILD_DELETE.js":1659,"./GUILD_EMOJIS_UPDATE.js":1660,"./GUILD_INTEGRATIONS_UPDATE.js":1661,"./GUILD_MEMBERS_CHUNK.js":1662,"./GUILD_MEMBER_ADD.js":1663,"./GUILD_MEMBER_REMOVE.js":1664,"./GUILD_MEMBER_UPDATE.js":1665,"./GUILD_ROLE_CREATE.js":1666,"./GUILD_ROLE_DELETE.js":1667,"./GUILD_ROLE_UPDATE.js":1668,"./GUILD_UPDATE.js":1669,"./INVITE_CREATE.js":1670,"./INVITE_DELETE.js":1671,"./MESSAGE_CREATE.js":1672,"./MESSAGE_DELETE.js":1673,"./MESSAGE_DELETE_BULK.js":1674,"./MESSAGE_REACTION_ADD.js":1675,"./MESSAGE_REACTION_REMOVE.js":1676,"./MESSAGE_REACTION_REMOVE_ALL.js":1677,"./MESSAGE_REACTION_REMOVE_EMOJI.js":1678,"./MESSAGE_UPDATE.js":1679,"./PRESENCE_UPDATE.js":1680,"./READY.js":1681,"./RESUMED.js":1682,"./TYPING_START.js":1683,"./USER_UPDATE.js":1684,"./VOICE_SERVER_UPDATE.js":1685,"./VOICE_STATE_UPDATE.js":1686,"./WEBHOOKS_UPDATE.js":1687,"./index.js":660};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=r,t.exports=a,a.id=1651},1688:function(t,e){},1689:function(t,e){},1690:function(t,e){},1691:function(t,e){},1692:function(t,e){},1694:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LeaderboardView=void 0;var i=n(149),a=n(30),r=function(){function t(t){this.view=t.add.dom(t.scale.width/2,10).setOrigin(.5,0).createFromCache(i.assets.leaderboard),this.list=this.view.getChildByID("list"),this.update()}return t.prototype.update=function(){var t=this;this.list.innerHTML="",a.teams.filter((function(t){return t.teamId>0})).sort((function(t,e){return e.score-t.score})).forEach((function(e){t.list.innerHTML+='<li id="'+e.teamId+'" style="color: '+a.getColor(e.teamId)+'">'+e.names[0]+" - "+e.score+"</li>"}))},t}();e.LeaderboardView=r},1695:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MainMenu=void 0;var r=n(149),s=n(44),o=n(86),l=n(30),u=n(72),c=function(t){function e(){return t.call(this,"MainMenu")||this}return a(e,t),e.prototype.preload=function(){this.load.html(r.assets.sidebar,"assets/html/sidebar.html"),this.load.html(r.assets.debug,"assets/html/debug.html"),this.load.html(r.assets.settings,"assets/html/settings.html"),this.load.html(r.assets.gameOver,"assets/html/gameover.html"),this.load.html(r.assets.mainMenu,"assets/html/mainmenu.html"),this.load.html("commandline","assets/html/commandline.html"),this.load.html(r.assets.leaderboard,"assets/html/leaderboard.html"),this.load.image("base","assets/images/base.png"),this.load.image("AI","assets/images/bot1.png"),this.load.image("ring","assets/images/ring1.png"),this.load.image("particle","assets/images/white.png"),s.soundSystem.load(this.load)},e.prototype.create=function(){var e=this;t.prototype.create.call(this),s.soundSystem.start();var n=this.add.dom(this.scale.width/2,this.scale.height/2).createFromCache(r.assets.mainMenu);n.getChildByID("play").onclick=function(t){e.scene.start("LevelSelect")},this.tweens.add({targets:n,y:n.y+10,duration:4e3,ease:"Sine.easeInOut",yoyo:!0,loop:-1})},e.prototype.createBases=function(){var t=this;this.bases=[];var e=new Phaser.Math.Vector2(this.scale.width/3,this.scale.height/3);[{id:1,team:1,xCell:1,yCell:1,maxLvl:2},{id:2,team:2,xCell:1,yCell:2,maxLvl:2},{id:3,team:3,xCell:2,yCell:1,maxLvl:2},{id:4,team:4,xCell:2,yCell:2,maxLvl:2}].forEach((function(n){var i=n.team,a=new o.Base(n.id,t,l.teams.find((function(t){return t.teamId==i})).BaseImgKey,i,n.maxLvl);i<0&&(a.baseState=new u.NeutralState(a,t)),a.x=e.x*n.xCell,a.y=e.y*n.yCell,t.bases.push(a)}))},e}(n(87).LevelBase);e.MainMenu=c},1696:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LevelSelect=void 0;var r=n(44),s=function(t){function e(){return t.call(this,"LevelSelect")||this}return a(e,t),e.prototype.preload=function(){this.load.html("levelselect","assets/html/levelselect.html")},e.prototype.create=function(){this.view=this.add.dom(0,0).setOrigin(0,0).createFromCache("levelselect");var t=this.view.node;t.style.overflowY="scroll",t.style.height=this.scale.height+"px",t.style.width=this.scale.width+"px";var e=this.view.getChildByID("levels"),n=r.Levels.slice().reverse();for(var i,a="";n.length>0;){a+='<div class="row">';for(var s=0;s<3;s++){var o=n.pop();o&&(a+='<div class="col">'+('\n            <div class="d-flex justify-content-center flex-column text-center p-2 mt-4">\n                <h2>'+(i=o).title+"</h2>\n                <p>"+i.description+'</p>\n                <button class="btn" id="'+i.sys.settings.key+'">Play</button>\n            </div></div>'))}a+="</div>"}e.innerHTML+=a,this.view.setInteractive(),this.view.addListener("click");var l=this;this.view.on("click",(function(t){var e=t.target;e instanceof HTMLButtonElement==1&&(l.scene.start(e.id),l.view.destroy())}),this)},e}(Phaser.Scene);e.LevelSelect=s},1697:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Level2=void 0;var r=n(86),s=n(87),o=n(30),l=n(72),u=function(t){function e(){var e=t.call(this,"level2")||this;return e.title="Level 2",e.description="Uneven Odds",e}return a(e,t),e.prototype.createBases=function(){var t=this;this.bases=[];var e=new Phaser.Math.Vector2(this.scale.width/4,this.scale.height/4);[{id:1,team:-1,xCell:1,yCell:1,maxLvl:2},{id:2,team:1,xCell:1,yCell:2,maxLvl:1},{id:3,team:-1,xCell:1,yCell:3,maxLvl:2},{id:4,team:-1,xCell:2,yCell:2,maxLvl:3},{id:5,team:-1,xCell:3,yCell:1,maxLvl:2},{id:6,team:2,xCell:3,yCell:2,maxLvl:1},{id:7,team:-1,xCell:3,yCell:3,maxLvl:2}].forEach((function(n){var i=n.team,a=new r.Base(n.id,t,o.teams.find((function(t){return t.teamId==i})).BaseImgKey,i,n.maxLvl);i<0&&(a.baseState=new l.NeutralState(a,t)),a.x=e.x*n.xCell,a.y=e.y*n.yCell,t.bases.push(a)}))},e}(s.LevelBase);e.Level2=u},1698:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SoundSystem=void 0;var i=n(1699),a=function(){function t(t){this.soundVolume=Number(i.getCache("sound","1")),this.musicVolume=Number(i.getCache("music","1")),this.masterVolume=Number(i.getCache("master","1")),this.sound=t,this.sound.pauseOnBlur=!1}return t.prototype.playHealing=function(t){this.play(this.healing,1e3*t)},t.prototype.playHealed=function(){this.play(this.healed,0,.5)},t.prototype.playUpgraded=function(t){this.play(this.upgraded,1e3*t)},t.prototype.playUpgrading=function(t){this.play(this.upgrading,1e3*t)},t.prototype.playDestroyed=function(){this.play(this.destroyed,0)},t.prototype.load=function(t){t.audio("theme","assets/audio/discordwars.wav"),t.audio("exp_9","assets/audio/Explosion9.wav"),t.audio("exp_10","assets/audio/Explosion10.wav"),t.audio("exp_11","assets/audio/Explosion11.wav"),t.audio("exp_14","assets/audio/Explosion14.wav"),t.audio("blip_5","assets/audio/Blip_Select5.wav"),t.audio("blip_6","assets/audio/Blip_Select6.wav"),t.audio("blip_7","assets/audio/Blip_Select7.wav"),t.audio("blip_8","assets/audio/Blip_Select8.wav"),t.audio("hit_7","assets/audio/Hit_Hurt7.wav"),t.audio("hit_8","assets/audio/Hit_Hurt8.wav"),t.audio("hit_9","assets/audio/Hit_Hurt9.wav"),t.audio("hit_10","assets/audio/Hit_Hurt10.wav"),t.audio("hit_11","assets/audio/Hit_Hurt11.wav"),t.audio("death","assets/audio/Death.wav"),t.audio("healed","assets/audio/Healed.wav"),t.audio("healing","assets/audio/Healing.wav"),t.audio("upgrading","assets/audio/Upgrade2.wav"),t.audio("upgraded","assets/audio/UpgradeComplete3.wav")},t.prototype.start=function(){this.explosionSounds||(this.destroyed=this.sound.add("death"),this.healed=this.sound.add("healed"),this.healing=this.sound.add("healing"),this.upgraded=this.sound.add("upgraded"),this.upgrading=this.sound.add("upgrading"),this.explosionSounds=[this.sound.add("exp_9"),this.sound.add("exp_10"),this.sound.add("exp_11"),this.sound.add("exp_14")],this.blipSounds=[this.sound.add("blip_5"),this.sound.add("blip_6"),this.sound.add("blip_7"),this.sound.add("blip_8")],this.hitSounds=[this.sound.add("hit_7"),this.sound.add("hit_8"),this.sound.add("hit_9"),this.sound.add("hit_10"),this.sound.add("hit_11")],this.music=this.sound.add("theme",{loop:!0}),this.music.play({volume:this.musicVolume*this.masterVolume,loop:!0}))},t.prototype.updateVolume=function(t,e,n){this.musicVolume=t,this.soundVolume=e,this.masterVolume=n,localStorage.setItem("master",n.toString()),localStorage.setItem("sound",e.toString()),localStorage.setItem("music",t.toString()),this.music.play({volume:this.musicVolume*this.masterVolume,loop:!0})},t.prototype.play=function(t,e,n){var i=1;n&&(i=n),t.play({volume:this.masterVolume*this.soundVolume*i,detune:e})},t.prototype.playBlip=function(){this.playRandom(this.blipSounds,.5)},t.prototype.playHit=function(){this.playRandom(this.hitSounds,.5)},t.prototype.playRandom=function(t,e){var n=1;e&&(n=e),t[Math.floor(Math.random()*t.length)].play({volume:this.masterVolume*this.soundVolume*n})},t}();e.SoundSystem=a},1699:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCache=void 0,e.getCache=function(t,e){var n=localStorage.getItem(t);return n||e}},1700:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Level3=void 0;var r=n(86),s=n(87),o=n(30),l=n(72),u=function(t){function e(){var e=t.call(this,"level3")||this;return e.title="Level 3",e.description="3 Teams",e}return a(e,t),e.prototype.createBases=function(){var t=this;this.bases=[];var e=new Phaser.Math.Vector2(this.scale.width/6,this.scale.height/6);[{id:1,team:1,xCell:1,yCell:3,maxLvl:1},{id:2,team:-1,xCell:2,yCell:3,maxLvl:1},{id:3,team:-1,xCell:3,yCell:3,maxLvl:3},{id:4,team:-1,xCell:4,yCell:2,maxLvl:1},{id:5,team:2,xCell:5,yCell:1,maxLvl:1},{id:6,team:-1,xCell:4,yCell:4,maxLvl:1},{id:7,team:3,xCell:5,yCell:5,maxLvl:1}].forEach((function(n){var i=n.team,a=new r.Base(n.id,t,o.teams.find((function(t){return t.teamId==i})).BaseImgKey,i,n.maxLvl);i<0&&(a.baseState=new l.NeutralState(a,t)),a.x=e.x*n.xCell,a.y=e.y*n.yCell,t.bases.push(a)}))},e}(s.LevelBase);e.Level3=u},1701:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Level4=void 0;var r=n(86),s=n(87),o=n(30),l=n(72),u=function(t){function e(){var e=t.call(this,"level4")||this;return e.title="Level 4",e.description="4 Teams",e}return a(e,t),e.prototype.createBases=function(){var t=this;this.bases=[];var e=new Phaser.Math.Vector2(this.scale.width/6,this.scale.height/6);[{id:1,team:1,xCell:1,yCell:1,maxLvl:1},{id:2,team:-1,xCell:2,yCell:2,maxLvl:1},{id:3,team:-1,xCell:3,yCell:3,maxLvl:3},{id:4,team:-1,xCell:4,yCell:2,maxLvl:1},{id:5,team:2,xCell:5,yCell:1,maxLvl:1},{id:6,team:-1,xCell:4,yCell:4,maxLvl:1},{id:7,team:3,xCell:5,yCell:5,maxLvl:1},{id:8,team:4,xCell:1,yCell:5,maxLvl:1},{id:9,team:-1,xCell:2,yCell:4,maxLvl:1}].forEach((function(n){var i=n.team,a=new r.Base(n.id,t,o.teams.find((function(t){return t.teamId==i})).BaseImgKey,i,n.maxLvl);i<0&&(a.baseState=new l.NeutralState(a,t)),a.x=e.x*n.xCell,a.y=e.y*n.yCell,t.bases.push(a)}))},e}(s.LevelBase);e.Level4=u},1702:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Level5=void 0;var r=n(86),s=n(87),o=n(30),l=n(72),u=function(t){function e(){var e=t.call(this,"level5")||this;return e.title="Level 5",e.description="I feel dizzy...",e}return a(e,t),e.prototype.create=function(){var e=this.scale.width/2,n=this.scale.height/2;this.circle=new Phaser.Geom.Circle(e,n,n/2),t.prototype.create.call(this)},e.prototype.createBases=function(){var t=this;this.bases=[],this.circleBases=[];var e=[{id:2,team:-1,xCell:2,yCell:2,maxLvl:2},{id:4,team:-1,xCell:4,yCell:2,maxLvl:2},{id:6,team:-1,xCell:4,yCell:4,maxLvl:2},{id:9,team:-1,xCell:2,yCell:4,maxLvl:2}],n=new Phaser.Math.Vector2(this.scale.width/6,this.scale.height/6);[{id:1,team:1,xCell:1,yCell:1,maxLvl:1},{id:5,team:2,xCell:5,yCell:1,maxLvl:1},{id:7,team:3,xCell:5,yCell:5,maxLvl:1},{id:8,team:4,xCell:1,yCell:5,maxLvl:1},{id:3,team:-1,xCell:3,yCell:3,maxLvl:3}].concat(e).forEach((function(e){var i=e.team,a=new r.Base(e.id,t,o.teams.find((function(t){return t.teamId==i})).BaseImgKey,i,e.maxLvl);i<0&&(a.baseState=new l.NeutralState(a,t)),a.x=n.x*e.xCell,a.y=n.y*e.yCell,t.bases.push(a)})),this.circleBases=this.bases.filter((function(t){return e.some((function(e){return e.id==t.baseId}))})),Phaser.Actions.PlaceOnCircle(this.circleBases,this.circle)},e.prototype.update=function(e,n){t.prototype.update.call(this,e,n),Phaser.Actions.RotateAround(this.circleBases,this.circle,.001)},e}(s.LevelBase);e.Level5=u},1703:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Login=void 0;var r=n(149),s=n(1704),o=function(t){function e(){return t.call(this,"login")||this}return a(e,t),e.prototype.preload=function(){this.load.html(r.assets.login,"assets/html/login.html")},e.prototype.create=function(){var t=this.scale.width/2,e=this.scale.height/2;new s.LoginView(this,t,e)},e}(Phaser.Scene);e.Login=o},1704:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(a,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function o(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}l((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,a,r,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){s.label=r[1];break}if(6===r[0]&&s.label<a[1]){s.label=a[1],a=r;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(r);break}a[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.LoginView=void 0;var r=n(1705),s=function(){function t(t,e,n){var i=this;this.goTo="MainMenu",this.view=t.add.dom(e,n).createFromCache("login"),this.scene=t;var a=this.view;this.trylogin(),a.getChildByName("local").onclick=function(){t.scene.start(i.goTo)},a.getChildByName("login").onclick=function(){var e=a.getChildByName("token");a.destroy(),r.model.methods.tokenLogin(e.value),t.scene.start(i.goTo)}}return t.prototype.trylogin=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,r.TryLogin()];case 1:return t.sent()&&(this.view.destroy(),this.scene.scene.start(this.goTo)),[2]}}))}))},t}();e.LoginView=s},1705:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(a,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function o(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}l((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,a,r,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){s.label=r[1];break}if(6===r[0]&&s.label<a[1]){s.label=a[1],a=r;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(r);break}a[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.model=e.TryLogin=void 0;var r=n(312),s=n(156),o={el:"#app",data:{},mounted:function(){},methods:{tokenLogin:function(t){return i(this,void 0,void 0,(function(){var e,n;return a(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r.default(t)];case 1:return e=i.sent(),this.token=null,s.toastInfo("ready!"),sessionStorage.setItem("magic",e),this.showToken=!1,[2,!0];case 2:return n=i.sent(),console.log(n),s.toastError(n),[2,!1];case 3:return[2]}}))}))}}};e.model=o,e.TryLogin=function(){return i(this,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return(t=sessionStorage.getItem("magic"))?[4,o.methods.tokenLogin(t)]:[3,2];case 1:return[2,e.sent()];case 2:return[2,!1]}}))}))}},1706:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Random=void 0;var r=n(86),s=n(87),o=n(30),l=n(72),u=function(t){function e(){var e=t.call(this,"levelRandom")||this;return e.title="Random",e.description="Play your luck",e}return a(e,t),e.prototype.createBases=function(){var t=this;this.bases=[];for(var e=Phaser.Math.Between(4,9),n=[],i=0;i<9;i++)for(var a=0;a<9;a++)n.push({x:i+1,y:a+1});for(var s=[],u=0;u<e;u++){var c=u+1,h=n.filter((function(t){return 1!=s.some((function(e){return e.xCell==t.x&&e.yCell==t.y}))})),d=h[Math.floor(Math.random()*h.length)];s.push({id:c,team:-1,xCell:d.x,yCell:d.y,maxLvl:Phaser.Math.Between(1,3)})}var p=Phaser.Math.Between(2,4);for(i=0;i<p;i++){var f=s.filter((function(t){return t.team<0}));f[Math.floor(Math.random()*f.length)].team=i+1}var m=new Phaser.Math.Vector2(this.scale.width/10,this.scale.height/10);s.forEach((function(e){var n=e.team,i=new r.Base(e.id,t,o.teams.find((function(t){return t.teamId==n})).BaseImgKey,n,e.maxLvl);n<0&&(i.baseState=new l.NeutralState(i,t)),i.x=m.x*e.xCell,i.y=m.y*e.yCell,t.bases.push(i)}))},e}(s.LevelBase);e.Random=u},1707:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Level6=void 0;var r=n(86),s=n(87),o=n(30),l=n(72),u=function(t){function e(){var e=t.call(this,"level6")||this;return e.title="Level 6",e.description="Mesmerizing",e}return a(e,t),e.prototype.create=function(){var e=this.scale.width/2,n=this.scale.height/2;this.circle=new Phaser.Geom.Circle(e,n,n/2),this.circleOuter=new Phaser.Geom.Circle(e,n,n/1.5),t.prototype.create.call(this)},e.prototype.createBases=function(){var t=this;this.bases=[],this.circleBases=[],this.outerCircleBases=[];var e=[{id:2,team:-1,xCell:2,yCell:2,maxLvl:2},{id:4,team:-1,xCell:4,yCell:2,maxLvl:2}],n=[{id:6,team:-1,xCell:4,yCell:4,maxLvl:2},{id:9,team:-1,xCell:2,yCell:4,maxLvl:2}],i=new Phaser.Math.Vector2(this.scale.width/6,this.scale.height/6);[{id:1,team:1,xCell:1,yCell:1,maxLvl:1},{id:5,team:2,xCell:5,yCell:1,maxLvl:1},{id:7,team:3,xCell:5,yCell:5,maxLvl:1},{id:8,team:4,xCell:1,yCell:5,maxLvl:1},{id:3,team:-1,xCell:3,yCell:3,maxLvl:1}].concat(e).concat(n).forEach((function(e){var n=e.team,a=new r.Base(e.id,t,o.teams.find((function(t){return t.teamId==n})).BaseImgKey,n,e.maxLvl);n<0&&(a.baseState=new l.NeutralState(a,t)),a.x=i.x*e.xCell,a.y=i.y*e.yCell,t.bases.push(a)})),this.circleBases=this.bases.filter((function(t){return e.some((function(e){return e.id==t.baseId}))})),this.outerCircleBases=this.bases.filter((function(t){return n.some((function(e){return e.id==t.baseId}))})),Phaser.Actions.PlaceOnCircle(this.outerCircleBases,this.circleOuter),Phaser.Actions.PlaceOnCircle(this.circleBases,this.circle)},e.prototype.update=function(e,n){t.prototype.update.call(this,e,n),Phaser.Actions.RotateAround(this.circleBases,this.circle,.001),Phaser.Actions.RotateAround(this.outerCircleBases,this.circle,-.001)},e}(s.LevelBase);e.Level6=u},1708:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Level7=void 0;var r=n(86),s=n(87),o=n(30),l=n(72),u=function(t){function e(){var e=t.call(this,"level7")||this;return e.title="Level 7",e.description="Ready set Go!",e}return a(e,t),e.prototype.createBases=function(){var t=this;this.bases=[];var e=new Phaser.Math.Vector2(this.scale.width/9,this.scale.height/3);[{team:1,xCell:1,yCell:1,maxLvl:3},{team:-1,xCell:2,yCell:1,maxLvl:1},{team:-1,xCell:3,yCell:1,maxLvl:1},{team:-1,xCell:6,yCell:1,maxLvl:1},{team:-1,xCell:7,yCell:1,maxLvl:1},{team:2,xCell:8,yCell:1,maxLvl:3},{team:3,xCell:1,yCell:2,maxLvl:3},{team:-1,xCell:2,yCell:2,maxLvl:1},{team:-1,xCell:3,yCell:2,maxLvl:1},{team:-1,xCell:6,yCell:2,maxLvl:1},{team:-1,xCell:7,yCell:2,maxLvl:1},{team:4,xCell:8,yCell:2,maxLvl:3}].forEach((function(n,i){var a=n.team,s=new r.Base(i+1,t,o.teams.find((function(t){return t.teamId==a})).BaseImgKey,a,n.maxLvl);a<0&&(s.baseState=new l.NeutralState(s,t)),s.x=e.x*n.xCell,s.y=e.y*n.yCell,t.bases.push(s)}))},e}(s.LevelBase);e.Level7=u},199:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.botHandler=e.BotHandler=void 0;var i=n(44),a=n(310),r=n(620),s=n(1572),o=n(621),l=function(){function t(){}return t.prototype.say=function(t){if(this.Level){var e=this.Level.actions.filter((function(e){return e.user.name==t.name}));if(e.length>0){var n=e[0];if(n.text.text=""+t.message,t.message.length>10){var a=.05*t.message.length;n.text.setFontSize(20/a)}else n.text.setFontSize(20)}i.soundSystem.playBlip()}},t.prototype.upgrade=function(t,e){var n=this;this.Level&&(this.Level.units.filter((function(n){return n.currentBase.baseId==t&&n.unitState instanceof a.OrbitState&&n.team.teamId==e})).forEach((function(t){t.unitState=new r.AttackState(t,n.Level,t.currentBase)})),i.soundSystem.playBlip())},t.prototype.retreat=function(t,e){var n=this;if(this.Level){if(!this.Level.bases.some((function(e){return e.baseId==t})))return{success:!1,reason:"base "+t+" does not exist."};var a=new s.UserAction(this.Level,e);this.Level.actions.push(a);var r=this.Level.units.filter((function(n){return n.unitState instanceof o.MoveState&&n.unitState.toBase.baseId==t&&n.team.teamId==e.team.teamId}));return 0==r.length?{success:!1,reason:"no units found moving to base "+t}:(r.forEach((function(t){t.unitState=new o.MoveState(t,n.Level,t.currentBase,a)})),i.soundSystem.playBlip(),{success:!0,reason:r.length+" are retreating!"})}},t.prototype.moveAll=function(t,e,n){var a=this;if(this.Level){var r=this.Level.bases.find((function(e){return e.baseId==t}));if(!r)return{success:!1,reason:"to base "+t+" does not exist"};var l=new s.UserAction(this.Level,n);this.Level.actions.push(l);var u=this.Level.units.filter((function(t){return t.unitState instanceof o.MoveState!=1&&t.team.teamId==n.team.teamId})).slice(0,e);return 0==u.length?{success:!1,reason:"did not find units"}:(u.forEach((function(t){t.unitState=new o.MoveState(t,a.Level,r,l)})),i.soundSystem.playBlip(),{success:!0,reason:"moving "+u.length+" units to "+t})}},t.prototype.move=function(t,e,n,a){var r=this;if(this.Level){var l=this.Level.bases.find((function(t){return t.baseId==e}));if(!l)return{success:!1,reason:"to base "+e+" does not exist"};var u=new s.UserAction(this.Level,a);this.Level.actions.push(u);var c=this.Level.units.filter((function(e){return e.currentBase.baseId==t&&e.unitState instanceof o.MoveState!=1&&e.team.teamId==a.team.teamId})).slice(0,n);return 0==c.length?{success:!1,reason:"did not find units at base "+t}:(c.forEach((function(t){t.unitState=new o.MoveState(t,r.Level,l,u)})),i.soundSystem.playBlip(),{success:!0,reason:"moving "+c.length+" units from "+t+" to "+e})}},t}();e.BotHandler=l,e.botHandler=new l},30:function(t,e,n){"use strict";function i(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function a(t){return e.teams.find((function(e){return e.teamId==Number(t)||e.names.some((function(e){return e==t.toLocaleLowerCase()}))}))}function r(t){var e=a(t.toString()).color;return"rgb("+e[0]+","+e[1]+","+e[2]+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.TeamInteraction=e.AIPlayer=e.getColor=e.getTeam=e.teams=e.tween=e.rgbToHex=e.componentToHex=void 0,e.componentToHex=i,e.rgbToHex=function(t,e,n){var a=i(t)+i(e)+i(n);return parseInt(a,16)},e.tween=function(t){var e=t.from;return e+(t.to-e)*t.percent},e.teams=[{teamId:1,names:["red","r"],BaseImgKey:"base",UnitImgKey:"base",color:[255,0,0],tint:16711680,score:0},{teamId:2,names:["blue","b"],BaseImgKey:"base",UnitImgKey:"base",color:[0,0,255],tint:255,score:0},{teamId:3,names:["green","g"],BaseImgKey:"base",UnitImgKey:"base",color:[0,255,0],tint:65280,score:0},{teamId:4,names:["yellow","y"],BaseImgKey:"base",UnitImgKey:"base",color:[255,255,0],tint:16776960,score:0},{teamId:-1,names:["neutral"],BaseImgKey:"base",UnitImgKey:"base",color:[255,255,255],tint:16777215,score:0}],e.getTeam=a,e.getColor=r;var s=function(t){this.avatarUrl=null;var e=a(t.toString());this.name="AI-"+e.teamId,this.imgUrl="AI",this.team=e,this.style={color:r(t)}};e.AIPlayer=s;var o=function(){function t(){this._chat=[],this._players=[]}return Object.defineProperty(t.prototype,"chat",{get:function(){return this._chat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"players",{get:function(){return this._players},enumerable:!1,configurable:!0}),t.prototype.clearChat=function(){this._chat=[],this.renderer&&this.renderer.render()},t.prototype.addChat=function(t){this._chat.unshift(t),this._chat.length>10&&this._chat.pop(),this.renderer&&this.renderer.render()},t.prototype.addPlayer=function(t){this._players.push(t),this.renderer&&this.renderer.render()},t.prototype.removePlayer=function(t){this._players=this._players.filter((function(e){return e.name!=t})),this.renderer&&this.renderer.render()},t}();e.TeamInteraction=new o},310:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.OrbitState=void 0;var r=function(t){function e(e,n){var i=t.call(this,e,n,"OrbitState")||this;return i.speed=Phaser.Math.FloatBetween(-.005,.005)*n.speed,i}return a(e,t),e.prototype.update=function(){t.prototype.update.call(this),Phaser.Actions.RotateAround([this.Unit],this.Unit.currentBase,this.speed)},e}(n(148).UnitState);e.OrbitState=r},311:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.State=void 0;var i=function(){function t(t,e,n){this.Unit=t,this.Scene=e,this.name=n}return t.prototype.update=function(){},t}();e.State=i},312:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RunCommands=void 0;var i=n(1581),a=n(44),r=n(156),s=n(30),o=n(199),l=new i.Client;l.on("ready",(function(){console.log("Logged in as "+l.user.tag+"!")}));var u=function(t){return s.TeamInteraction.players.find((function(e){return e.name==t.author.username}))},c=function(t){var e=u(t);return e?{joined:!0,team:e}:(t.reply("you must !join first"),{joined:!1,team:e})},h=[{name:["!move","! move","!m "],execute:function(t,e){var n=c(t);if(n.joined){var i=e.split(" ").filter((function(t){return" "!=t}));if(console.log(i),"a"==i[0]||"all"==i[0])o.botHandler.moveAll(Number(i[1]),100,n.team);else if(1==i.length)o.botHandler.moveAll(Number(i[0]),100,n.team);else{var r=a.move(Number(i[0]),Number(i[1]),100,n.team);t.reply(r.reason)}}}},{name:["!join","! join","!j "],execute:function(t,e){if(e=e.replace(" ",""),u(t))t.reply("you are already joined");else{var n=s.getTeam(e);if(n){var i={team:n,name:t.author.username,style:{color:s.getColor(n.teamId)},avatarUrl:t.author.avatarURL(),imgUrl:t.author.username};s.TeamInteraction.addPlayer(i),a.addAvatar(i),r.toastInfo("player "+t.author.username+" joined!"),t.reply("joined!")}else t.reply("team '"+e+"' does not exist")}}},{name:["!upgrade","! upgrade","!u "],execute:function(t,e){var n=c(t);n.joined&&a.upgrade(Number(e),n.team.team.teamId)}},{name:["!leave","! leave","!l"],execute:function(t,e){c(t).joined&&(s.TeamInteraction.removePlayer(t.author.username),t.reply("thanks for playing!"))}},{name:["!retreat","! retreat","!r "],execute:function(t,e){var n=c(t);if(n.joined){var i=a.retreat(Number(e),n.team);t.reply(i.reason)}}},{name:["!say","! say","!s "],execute:function(t,e){var n=c(t);if(n.joined){var i={name:t.author.username,message:e,player:n.team};s.TeamInteraction.addChat(i),a.say(i)}}},{name:["!help","! help","!h"],execute:function(t,e){t.reply("!join 1 -> joins team 1\r\n!move 2 4 -> moves from base 2 to base 4\r\n!upgrade 1 -> upgrades base 1\r\n!retreat 1 -> retreats all units away from base 1\r\n!say loser -> roasts the other team\r\n!leave -> leaves the game")}}];function d(t){h.forEach((function(e){e.name.filter((function(e){return t.content.toLocaleLowerCase().startsWith(e)})).forEach((function(n){var i=t.content.substr(n.length,100);e.execute(t,i)}))}))}e.RunCommands=d,l.on("message",(function(t){d(t)})),e.default=function(t){return l.login(t)}},44:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getVolumes=e.updateVolume=e.addAvatar=e.say=e.reset=e.upgrade=e.retreat=e.move=e.game=e.soundSystem=e.Levels=void 0;var i=n(667),a=n(1567),r=n(1695),s=n(1696),o=n(1697),l=n(1698),u=n(199),c=n(1700),h=n(1701),d=n(1702),p=n(1703),f=n(1706),m=n(1707),v=n(1708),y={type:i.AUTO,physics:{default:"arcade",arcade:{debug:!1}},dom:{createContainer:!0},scale:{mode:i.Scale.RESIZE,width:"100%",height:"100%",parent:"game-parent"}},_=new i.Game(y);e.game=_;var g=new r.MainMenu,b=new s.LevelSelect;e.Levels=[new a.default,new o.Level2,new c.Level3,new h.Level4,new d.Level5,new m.Level6,new v.Level7,new f.Random],_.scene.add("MainMenu",g),_.scene.add("LevelSelect",b),_.scene.add("login",new p.Login),e.Levels.forEach((function(t){var e=t;_.scene.add(t.sys.settings.key,e)})),_.scene.start("login"),e.soundSystem=new l.SoundSystem(_.sound);var x=u.botHandler;e.move=function(t,e,n,i){return x.move(t,e,n,i)},e.retreat=function(t,e){return x.retreat(t,e)},e.upgrade=function(t,e){return x.upgrade(t,e)},e.reset=function(){x.Level.reset()},e.say=function(t){x.say(t)},e.addAvatar=function(t){x.Level.load.image(t.imgUrl,t.avatarUrl),x.Level.load.start()},e.updateVolume=function(t,n,i){e.soundSystem.updateVolume(t,n,i)},e.getVolumes=function(){return{music:e.soundSystem.musicVolume,effects:e.soundSystem.soundVolume,master:e.soundSystem.masterVolume}}},615:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GenerateState=void 0;var r=n(1568),s=n(617),o=n(72),l=n(44),u=function(t){function e(e,n){var i=t.call(this,e,n,"GenerateState")||this;return e.hp.maxHealth=50,e.hp.health=50,i}return a(e,t),e.prototype.secondPassed=function(){for(var t=this.Scene,e=0;e<this.Unit.xp.level;e++){var n=new r.Unit(t,this.Unit,this.Unit.team,this.Unit.team.UnitImgKey);n.currentBase=this.Unit,t.units.push(n)}this.Unit.pulse()},e.prototype.unitHit=function(e){var n={valueUsed:0,shouldDestroy:!1};return t.prototype.unitHit.call(this,e),e.team.teamId==this.Unit.team.teamId?n=this.Unit.hp.health<this.Unit.hp.maxHealth?this.Unit.hp.addHealth(e.value):this.Unit.xp.upgrade(e.value):(n=this.Unit.hp.addHealth(-e.value),this.damageEffect()),0==this.Unit.hp.health?(this.Unit.baseState=new o.NeutralState(this.Unit,this.Scene),l.soundSystem.playDestroyed()):this.Unit.hp.health<0&&(this.Unit.hp.setHealth(-this.Unit.hp.health),this.Unit.team=e.team,this.Unit.tint=this.Unit.team.tint,this.Unit.xp.reset(),l.soundSystem.playDestroyed()),n},e}(s.BaseState);e.GenerateState=u},616:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpawnState=void 0;var r=n(310),s=function(t){function e(e,n){var i=t.call(this,e,n,"SpawnState")||this,a=Phaser.Math.FloatBetween(-1,1),r=Phaser.Math.FloatBetween(-1,1),s=new Phaser.Math.Vector2(a,r).normalize();return i.speed=1*n.speed,i.distance=Phaser.Math.FloatBetween(40,75),i.destination=new Phaser.Math.Vector2(e.x+s.x*i.distance,e.y+s.y*i.distance),i}return a(e,t),e.prototype.update=function(){var e=new Phaser.Math.Vector2(this.destination.x-this.Unit.x,this.destination.y-this.Unit.y);e=e.normalize(),this.Unit.x+=e.x*this.speed,this.Unit.y+=e.y*this.speed,Phaser.Math.Distance.Between(this.Unit.x,this.Unit.y,this.destination.x,this.destination.y)<5&&(this.Unit.unitState=new r.OrbitState(this.Unit,this.Scene)),t.prototype.update.call(this)},e}(n(148).UnitState);e.SpawnState=s},617:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseState=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.secondPassed=function(){},e.prototype.unitHit=function(t){return{valueUsed:0,shouldDestroy:!1}},e.prototype.damageEffect=function(){var t=this.Scene,e=30*Phaser.Math.FloatBetween(-1,1),n=30*Phaser.Math.FloatBetween(-1,1);t.particleEngine.explosion(this.Unit.x+n,this.Unit.y+e,3,.25,4e3,this.Unit.team.tint)},e}(n(311).State);e.BaseState=r},618:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addHealth=void 0,e.addHealth=function(t,e){var n=0;return t+e.health>=e.maxHealth?(n=e.maxHealth-e.health,e.health=e.maxHealth):t+e.health<=-e.maxHealth?(n=e.health+e.maxHealth,e.health=e.maxHealth):(n=Math.abs(t),e.health+=t),{valueUsed:n,shouldDestroy:n>=Math.abs(t)}}},619:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;var i=function(){function t(t,e,n){this.bar=new Phaser.GameObjects.Graphics(t),this.width=80,this.height=16,this.padding=2,this.x=e,this.y=n,this.goodColor=65280,this.badColor=16711680,this.maxValue=100,this.alpha=1,this.scene=t,t.add.existing(this.bar)}return t.prototype.draw=function(){this.alpha=1,this.render(),this.tween&&this.scene.tweens.remove(this.tween),this.tween=this.scene.tweens.addCounter({from:1,to:0,duration:1e3,delay:1e3,onUpdate:function(t){var e=t.getValue();this.alpha=e,this.render()},onUpdateScope:this})},t.prototype.render=function(){this.value>this.maxValue&&(this.value=this.maxValue),this.bar.clear();var t=this.x-this.width/2,e=this.y-this.height/2,n=this.width-2*this.padding,i=this.height-2*this.padding,a=n/this.maxValue;this.bar.fillStyle(0,this.alpha),this.bar.fillRect(t,e,this.width,this.height),this.bar.fillStyle(16777215,this.alpha),this.bar.fillRect(t+this.padding,e+this.padding,n,i),this.value<this.maxValue/3?this.bar.fillStyle(this.badColor,this.alpha):this.bar.fillStyle(this.goodColor,this.alpha);var r=Math.floor(a*this.value);this.bar.fillRect(t+this.padding,e+this.padding,r,i)},t}();e.ProgressBar=i},620:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AttackState=void 0;var r=n(148),s=n(616),o=function(t){function e(e,n,i){var a=t.call(this,e,n,"AttackState")||this;return a.speed=1*n.speed,a.toBase=i,a}return a(e,t),e.prototype.update=function(){var e=new Phaser.Math.Vector2(this.toBase.x-this.Unit.x,this.toBase.y-this.Unit.y);if(e=e.normalize(),this.Unit.x+=e.x*this.speed,this.Unit.y+=e.y*this.speed,Phaser.Math.Distance.Between(this.Unit.x,this.Unit.y,this.toBase.x,this.toBase.y)<10){var n=this.toBase.baseState.unitHit(this.Unit);if(n.shouldDestroy)this.Scene.destroyUnit(this.Unit);else this.Unit.value-=n.valueUsed,this.Unit.unitState=new s.SpawnState(this.Unit,this.Scene)}t.prototype.update.call(this)},e}(r.UnitState);e.AttackState=o},621:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MoveState=void 0;var r=n(620),s=n(148),o=n(310),l=function(t){function e(e,n,i,a){var r=t.call(this,e,n,"MoveState")||this;return r.speed=1,r.toBase=i,r.user=a,r.speed*=n.speed,a.units.push(e),r}return a(e,t),e.prototype.removeFromAction=function(){var t=this;this.user.units=this.user.units.filter((function(e){return e!==t.Unit}))},e.prototype.removing=function(t){this.removeFromAction()},e.prototype.update=function(){var e=new Phaser.Math.Vector2(this.toBase.x-this.Unit.x,this.toBase.y-this.Unit.y);e=e.normalize(),this.Unit.x+=e.x*this.speed,this.Unit.y+=e.y*this.speed,Phaser.Math.Distance.Between(this.Unit.x,this.Unit.y,this.toBase.x,this.toBase.y)<40&&(this.toBase.team.teamId==this.Unit.team.teamId&&this.toBase.hp.isFullHealth?(this.removeFromAction(),this.Unit.unitState=new o.OrbitState(this.Unit,this.Scene)):(this.removeFromAction(),this.Unit.unitState=new r.AttackState(this.Unit,this.Scene,this.toBase)),this.Unit.currentBase=this.toBase),t.prototype.update.call(this)},e}(s.UnitState);e.MoveState=l},622:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GamePlayingState=void 0;var r=n(1573),s=n(1574),o=function(t){function e(e){var n=t.call(this,e)||this;return console.log("playing!"),e.time.paused=!1,n}return a(e,t),e.prototype.update=function(){var t=this;this.Unit.units.forEach((function(t){return t.unitState.update()})),this.Unit.actions.forEach((function(t){return t.update()}));var e=this.Unit.bases.map((function(t){return t.team.teamId})).filter((function(t){return t>=0}));e.forEach((function(n){e.every((function(t){return t==n}))&&t.Unit.gameState instanceof s.GameOverState!=1&&(t.Unit.gameState=new s.GameOverState(t.Unit,n))}))},e}(r.ResumeState);e.GamePlayingState=o},623:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GameState=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n(311).State);e.GameState=r},624:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PauseState=void 0;var r=function(t){function e(e){var n=t.call(this,e,e,"PauseState")||this;return console.log("paused!"),e.time.paused=!0,n}return a(e,t),e}(n(623).GameState);e.PauseState=r},625:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetValues=e.chat=void 0;var i=n(30),a=n(621),r=["get rekt","you trying?","easy...","forfeit?","lol","u suk","get clapped"],s=["wtf!","nooo","u cheating?","wat.","oof","pls","give me chance","hacks!","you been practicing?","tie?","didn't need that anyway"],o=["nice move","hmm","wait","predictable","ok..","that was a mistake","I have a plan","just like boot camp","siick"];function l(t){return t[Math.floor(Math.random()*t.length)]}e.chat=function(t,e,n,a){var u=i.teams.filter((function(t){return!n.players.some((function(e){return e.team.teamId==t.teamId}))&&t.teamId>0})).filter((function(e){return t.some((function(t){return t.team.teamId==e.teamId}))}));u.forEach((function(t){if(e()>.75){var c="",h=u.filter((function(t){return t.score==Math.max.apply(Math,u.map((function(t){return t.score})))})),d=u.filter((function(t){return t.score==Math.min.apply(Math,u.map((function(t){return t.score})))}));c=t.score==h[0].score&&1==h.length?l(r):t.score==d[0].score&&1==d.length?l(s):l(o);var p=new i.AIPlayer(t.teamId),f={message:c,player:p,name:p.name};a.say(f),n.addChat(f)}}))},e.GetValues=function(t){var e=t.current,n=t.attack,i=t.units,r=n.xp.maxLevel/t.maxLevel,s=n.hp.health/n.hp.maxHealth,o=n.team.teamId==e.team.teamId,l=0;o||(s=-s,l=1);var u=0;void 0!==n.baseState.fromTint&&n.team.teamId==e.team.teamId&&(u=1);var c=0;o&&1!=n.hp.isFullHealth&&(c=1);var h=0;e.baseId==n.baseId&&e.xp.level<e.xp.maxLevel&&(h=1);var d=i.filter((function(t){return t.currentBase.baseId==n.baseId&&t.team.teamId==e.team.teamId})).map((function(t){return t.value})).reduce((function(t,e){return t+e}),0)/t.maxUnits,p=i.filter((function(t){return t.currentBase.baseId==n.baseId&&t.team.teamId!=e.team.teamId})).map((function(t){return t.value})).reduce((function(t,e){return t+e}),0)/t.maxUnits,f=i.filter((function(t){return t.unitState instanceof a.MoveState&&t.unitState.toBase.baseId==n.baseId&&t.team.teamId==e.team.teamId})).map((function(t){return t.value})).reduce((function(t,e){return t+e}),0)/t.maxUnits,m=i.filter((function(t){return t.unitState instanceof a.MoveState&&t.unitState.toBase.baseId==n.baseId&&t.team.teamId==e.team.teamId})).map((function(t){return t.value})).reduce((function(t,e){return t+e}),0)/t.maxUnits,v=Phaser.Math.FloatBetween(-1,1);return{lvl:r,enemyBaseUnits:p,allyBaseUnits:d,distance:Phaser.Math.Distance.Between(e.x,e.y,n.x,n.y)/t.maxDistance,diffTeamValue:l,neutralValue:u,healValue:c,upgradeValue:h,attack:n,random:v,attackingUnits:f,allyUnits:m}}},666:function(t,e,n){n(156),n(44),n(312)},72:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NeutralState=void 0;var r=n(617),s=n(615),o=n(30),l=function(t){function e(e,n){var i=t.call(this,e,n,"NeutralState")||this;return i.Unit.team=o.getTeam("-1"),i.Unit.hp.setHealth(0),i.Unit.tint=i.Unit.team.tint,i.fromTint=i.Unit.team.tint,i.fromColor=i.Unit.team.color,i.Unit.hp.maxHealth=30,i.Unit.xp.reset(),i}return a(e,t),e.prototype.unitHit=function(e){var n=t.prototype.unitHit.call(this,e);this.Unit.hp.health<=0?(this.Unit.team=e.team,n=this.Unit.hp.addHealth(e.value)):this.Unit.team.teamId==e.team.teamId?n=this.Unit.hp.addHealth(e.value):this.Unit.team.teamId!=e.team.teamId&&(n=this.Unit.hp.addHealth(-e.value));var i=this.Unit.team.color,a=this.Unit.hp.health/this.Unit.hp.maxHealth,r=o.tween({from:this.fromColor[0],to:i[0],percent:a}),l=o.tween({from:this.fromColor[1],to:i[1],percent:a}),u=o.tween({from:this.fromColor[2],to:i[2],percent:a});return this.Unit.tint=o.rgbToHex(Math.round(r),Math.round(l),Math.round(u)),this.Unit.hp.health>=this.Unit.hp.maxHealth&&(this.Unit.tint=this.Unit.team.tint,this.Unit.baseState=new s.GenerateState(this.Unit,this.Scene)),0!=n.valueUsed&&this.damageEffect(),n},e}(r.BaseState);e.NeutralState=l},86:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Base=void 0;var r=n(615),s=n(1569),o=n(30),l=n(1570),u=function(t){function e(e,n,i,a,u){var c=t.call(this,n.scene.scene,50,50,[])||this;c.lvl=n;var h=n.scene.scene;c.team=o.getTeam(a.toString()),c.img=h.add.sprite(0,0,i).setOrigin(.5,.5),c.levelScale=.5;var d=new s.LevelSystem(c,h,0,40,u);d.progressBar.goodColor=255,d.progressBar.badColor=255,c.xp=d;var p=new l.HealthBar(h,0,20);c.hp=p,c.setDepth(1),c.levelScaleRatio=1.2,c.baseState=new r.GenerateState(c,n),c.baseName=h.add.text(0,-70,""+e,{color:"white",fontSize:"36px",fontFamily:"ethno"}).setOrigin(.5,.5);var f=h.add.sprite(0,0,"ring").setOrigin(.5,.5);return f.scale=0,c.ring=f,c.add(f),c.tint=c.team.tint,c.add([c.img,c.baseName,p.progressBar.bar,d.progressBar.bar]),d.progressBar.draw(),c.baseId=e,h.sys.displayList.add(c),c.scene.tweens.add({targets:c.ring,scale:.15*u,alpha:0,duration:5e3,ease:"Power2",loop:-1,hold:0,onComplete:function(){c.ring.alpha=.5,c.ring.scale=0}}),c}return a(e,t),Object.defineProperty(e.prototype,"team",{get:function(){return this._team},set:function(t){this._team=t,this.img&&this.img.setTexture(t.BaseImgKey)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levelScale",{get:function(){return this.img?this.img.scale:0},set:function(t){if(this.img){if(t==this.img.scale)return;this.tween&&this.scene.tweens.remove(this.tween),this.img.scale=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.img?this.img.tintTopLeft:0},set:function(t){this.img&&(this.img.tint=t),this.ring&&(this.ring.tint=t)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.levelScale=.5},e.prototype.pulse=function(){this.tween=this.scene.tweens.add({targets:this.img,scale:this.img.scale+.05,duration:300/this.lvl.speed,ease:"Sine.easeInOut",yoyo:!0})},e}(Phaser.GameObjects.Container);e.Base=u},87:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LevelBase=void 0;var r=n(1571),s=n(199),o=n(622),l=n(1576),u=n(1577),c=n(148),h=n(1578),d=n(30),p=n(1580),f=n(1694),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._speed=1,e}return a(e,t),Object.defineProperty(e.prototype,"speed",{get:function(){return this._speed},set:function(t){this.speed!=t&&(this._speed=t,this.updateTime())},enumerable:!1,configurable:!0}),e.prototype.create=function(){d.teams.forEach((function(t){return t.score=0})),s.botHandler.Level=this,this.particleEngine=new r.ParticleEngine(this),this.gameState=new o.GamePlayingState(this),this.actions=[],this.units=[];new l.SettingsView(this),new u.Sidebar(this),new p.CommandlineView(this);this.leaderboard=new f.LeaderboardView(this),this.createBases(),this.population=new h.Population(d.teams),this.createTime(),d.TeamInteraction.clearChat()},e.prototype.createTime=function(){this.second=this.time.addEvent({loop:!0,delay:1e3/this.speed,callback:this.secondPassed,callbackScope:this}),this.five=this.time.addEvent({loop:!0,delay:5e3/this.speed,callback:this.fivePassed,callbackScope:this}),this.ten=this.time.addEvent({loop:!0,delay:1e4/this.speed,callback:this.tenPassed,callbackScope:this})},e.prototype.updateTime=function(){this.five&&(this.five.destroy(),this.five=null),this.second&&(this.second.destroy(),this.second=null),this.ten&&(this.ten.destroy(),this.ten=null),this.createTime()},e.prototype.tenPassed=function(){var t=this;this.units.forEach((function(e){t.physics.overlap(e.unitImg,t.units.map((function(t){return t.unitImg})),t.collission,null,t)}))},e.prototype.collission=function(t,e){c.CombineUnits(t.parentContainer,e.parentContainer,this)},e.prototype.fivePassed=function(){this.population.Evaluate(this.bases,this.units)},e.prototype.secondPassed=function(){var t=this;d.teams.filter((function(t){return t.teamId>0})).forEach((function(e){var n=t.bases.filter((function(t){return t.team.teamId==e.teamId})).map((function(t){return{level:t.xp.level,xp:t.xp.experience,hp:t.hp.health}})).reduce((function(t,e){return{level:t.level+e.level,xp:t.xp+e.xp,hp:t.hp+e.hp}}),{level:0,xp:0,hp:0}),i=t.units.filter((function(t){return t.team.teamId==e.teamId})).map((function(t){return t.value})).reduce((function(t,e){return t+e}),0);e.score=n.hp+n.level+n.xp+i})),this.leaderboard.update(),this.bases.forEach((function(t){t.baseState.secondPassed()}))},e.prototype.destroyUnit=function(t){t.destroy(),this.units=this.units.filter((function(e){return e!==t})),this.actions.forEach((function(e){return e.units=e.units.filter((function(e){return e!==t}))}))},e.prototype.reset=function(){var t=this;this.units.forEach((function(e){return t.destroyUnit(e)})),this.units=[],this.bases.forEach((function(t){return t.destroy()})),this.createBases(),this.gameState=new o.GamePlayingState(this),d.teams.forEach((function(t){return t.score=0}))},e.prototype.createBases=function(){},e.prototype.update=function(t,e){this.gameState.update();var n=1e3/e;this.fps=n},e}(Phaser.Scene);e.LevelBase=m}});